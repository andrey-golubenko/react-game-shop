{"version":3,"sources":["components/Header.tsx","components/Footer.tsx","components/Preloader.tsx","constants.tsx","shopReducer.tsx","ShopContext.tsx","components/LoadableImage/LoadableImage.tsx","hooks/use-on-screen.ts","components/GoodsItem.tsx","components/GoodsList.tsx","components/Cart.tsx","components/BasketItem.tsx","components/BasketList.tsx","components/Tooltip.tsx","components/Shop.tsx","config.js","App.tsx","index.tsx","components/LoadableImage/LoadableImage.module.css"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","Preloader","CLOSE_TOOLTIP","BASKET_SHOW","ADD_ORDER_ITEM","DELETE_ORDER_ITEM","ADD_ORDER_QUANTITY","DELETE_ORDER_QUANTITY","SET_GOODS","reducer","state","type","payload","newOrder","itemIndex","order","findIndex","item","mainId","orderItem","newItem","orderQuantity","map","index","tooltipName","displayName","filter","isBasketShow","goods","loading","EmittedContext","createContext","useShopContext","useContext","ShopContext","props","useReducer","dispatch","setGoods","addOrderItem","deleteOrderItem","addOrderQuantity","deleteOrderQuantity","handleBasketShow","closeTooltip","Provider","value","children","LoadableImage","src","alt","onLoad","useState","isLoaded","setIsLoaded","imageRef","useRef","containerRef","isVisible","ref","rootMargin","isIntersecting","setIntersecting","useEffect","observer","IntersectionObserver","entry","current","observe","currentRef","unobserve","useOnScreen","onload","wrapperClass","styles","container","push","containerLoaded","imgClass","image","imageLoaded","join","GoodsItem","displayDescription","price","itemImage","displayAssets","itemPrice","finalPrice","full_background","onClick","GoodsList","length","good","Cart","BasketItem","BasketList","totalPrice","reduce","sum","Tooltip","timerId","setTimeout","clearTimeout","Shop","fetch","headers","process","then","response","json","data","shop","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8e77c81d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header: React.FunctionComponent = () => {\r\n    return <nav className=\"purple darken-2\">\r\n                <div className=\"nav-wrapper\">\r\n                    <a href=\"https://andrey-golubenko.github.io/react-game-shop\" className=\"brand-logo\">React Shop</a>\r\n                    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                        <li><a\r\n                            href=\"https://github.com/Andrey-Golubenko/react-game-shop.git\"\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                        >Repo</a></li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n};","import React from 'react'\r\n\r\nexport const Footer: React.FunctionComponent = () => {\r\n    return (\r\n        <footer className=\"page-footer purple darken-2\">\r\n            <div className=\"footer-copyright purple darken-2\">\r\n                <div className=\"container\">\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a\r\n                        className=\"grey-text text-lighten-4 right\"\r\n                        href=\"https://github.com/Andrey-Golubenko/react-game-shop.git\"\r\n                        target=\"_blank\"\r\n                        rel=\"noreferrer\"\r\n                    >Repo</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n};","import React from 'react'\r\n\r\nexport const Preloader: React.FC = () => {\r\n    return (\r\n        <div className=\"progress purple accent-1\">\r\n            <div className=\"indeterminate purple darken-3\" />\r\n        </div>\r\n    )\r\n};","export const CLOSE_TOOLTIP = 'CLOSE_TOOLTIP';\r\nexport const BASKET_SHOW   = 'BASKET_SHOW';\r\nexport const ADD_ORDER_ITEM = 'ADD_ORDER_ITEM';\r\nexport const DELETE_ORDER_ITEM = 'DELETE_ORDER_ITEM';\r\nexport const ADD_ORDER_QUANTITY = 'ADD_ORDER_QUANTITY';\r\nexport const DELETE_ORDER_QUANTITY = 'DELETE_ORDER_QUANTITY';\r\nexport const SET_GOODS         = 'SET_GOODS';\r\nexport const SET_LOADING       = 'SET_LOADING';\r\n\r\n// ===========\r\n","import React from 'react'\r\nimport {IShopAction, IShopState} from \"./interfaces\";\r\nimport {\r\n    CLOSE_TOOLTIP,\r\n    BASKET_SHOW,\r\n    DELETE_ORDER_ITEM,\r\n    ADD_ORDER_ITEM,\r\n    ADD_ORDER_QUANTITY,\r\n    DELETE_ORDER_QUANTITY,\r\n    SET_GOODS\r\n} from \"./constants\";\r\n\r\nexport const reducer: React.Reducer<IShopState, IShopAction> = (state, { type, payload }) => {\r\n    switch (type) {\r\n        case ADD_ORDER_ITEM: {\r\n            let newOrder = null;\r\n            const itemIndex = state.order.findIndex(item => item.mainId === payload!.orderItem!.mainId!);\r\n            if (itemIndex < 0) {\r\n                const newItem = {\r\n                    ...payload!.orderItem!,\r\n                    orderQuantity: 1\r\n                };\r\n                newOrder = [...state.order, newItem]\r\n            } else {\r\n                newOrder = state.order!.map((item, index) => {\r\n                    if (index === itemIndex) {\r\n                        return {\r\n                            ...item,\r\n                            orderQuantity: item.orderQuantity! + 1\r\n                        }\r\n                    } else {\r\n                        return item\r\n                    }\r\n                });\r\n            }\r\n            return {\r\n                ...state,\r\n                order: newOrder,\r\n                tooltipName: payload?.orderItem?.displayName!\r\n            }\r\n        }\r\n        case DELETE_ORDER_ITEM: {\r\n            return { ...state, order: state.order.filter(item => item.mainId !== payload?.mainId) };}\r\n        case ADD_ORDER_QUANTITY: {\r\n            return {\r\n                ...state,\r\n                order: state.order.map(item => {\r\n                    if (item.mainId === payload!.mainId!) {\r\n                        return {\r\n                            ...item,\r\n                            orderQuantity: item.orderQuantity! + 1\r\n                        }\r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n        }\r\n        case DELETE_ORDER_QUANTITY: {\r\n            return {\r\n                ...state,\r\n                order: state.order.map(item => {\r\n                    if (item.mainId === payload!.mainId! && item.orderQuantity! > 0) {\r\n                        return {\r\n                            ...item,\r\n                            orderQuantity: item.orderQuantity! - 1\r\n                        }\r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n        }\r\n        case BASKET_SHOW: {\r\n            return { ...state, isBasketShow: !state.isBasketShow };\r\n        }\r\n        case CLOSE_TOOLTIP: {\r\n            return { ...state, tooltipName: '' };\r\n        }\r\n        case SET_GOODS: {\r\n            return {\r\n                ...state,\r\n                goods: payload!.goods! || [],\r\n                loading: false\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n};","import React, {createContext, useContext, useReducer} from 'react'\r\nimport {IGoods, IOrderItem, IShopContext} from \"./interfaces\";\r\nimport {reducer} from \"./shopReducer\";\r\nimport {\r\n    ADD_ORDER_ITEM,\r\n    ADD_ORDER_QUANTITY,\r\n    BASKET_SHOW,\r\n    CLOSE_TOOLTIP,\r\n    DELETE_ORDER_ITEM,\r\n    DELETE_ORDER_QUANTITY,\r\n    SET_GOODS\r\n} from \"./constants\";\r\n\r\nconst EmittedContext  = createContext ({});\r\n\r\nexport const useShopContext = (): IShopContext => useContext(EmittedContext);\r\n\r\nexport const ShopContext: React.FC = (props) => {\r\n\r\n    const [state, dispatch]  = useReducer(reducer, {\r\n        goods: [],\r\n        loading: true,\r\n        order: [],\r\n        isBasketShow: false,\r\n        tooltipName: '',\r\n    });\r\n\r\n     state.setGoods = (goods: IGoods[]) => dispatch({ type: SET_GOODS, payload: { goods } });\r\n\r\n     state.addOrderItem = (orderItem: IOrderItem) => {\r\n        dispatch({ type: ADD_ORDER_ITEM, payload: {orderItem}})\r\n    };\r\n\r\n     state.deleteOrderItem = (mainId: string) => {\r\n        dispatch({ type: DELETE_ORDER_ITEM, payload:{mainId} });\r\n    };\r\n\r\n     state.addOrderQuantity = (mainId: string) => {\r\n        dispatch({ type: ADD_ORDER_QUANTITY, payload: {mainId} });\r\n    };\r\n\r\n     state.deleteOrderQuantity = (mainId: string) => {\r\n        dispatch({ type: DELETE_ORDER_QUANTITY, payload: {mainId} });\r\n    };\r\n\r\n     state.handleBasketShow = () => {\r\n        dispatch({ type: BASKET_SHOW });\r\n    };\r\n\r\n     state.closeTooltip = () => {\r\n        dispatch({ type: CLOSE_TOOLTIP });\r\n    };\r\n\r\n    return <EmittedContext.Provider value={ state }>\r\n              { props.children }\r\n           </EmittedContext.Provider>\r\n};","import React, {useEffect, useRef, useState} from 'react'\r\nimport styles from './LoadableImage.module.css'\r\nimport {ILoadableImageProps} from \"../../interfaces\";\r\nimport {useOnScreen} from \"../../hooks/use-on-screen\";\r\n\r\nexport const LoadableImage: React.FC<ILoadableImageProps> = (props) => {\r\n\r\n    const { src, alt = '', onLoad = () => {} } = props;\r\n    const [isLoaded, setIsLoaded] = useState<boolean>(false);\r\n    const imageRef = useRef<HTMLImageElement | null>(null);\r\n    const containerRef = useRef<HTMLDivElement | null>(null);\r\n    const isVisible = useOnScreen(containerRef);\r\n\r\n    useEffect(() => {\r\n        if (!isVisible || isLoaded) {\r\n            return;\r\n        }\r\n        if (imageRef.current) {\r\n            imageRef.current.onload = () => {\r\n                setIsLoaded(true);\r\n                onLoad();\r\n            };\r\n        }\r\n    }, [isVisible, onLoad, isLoaded]);\r\n\r\n    const wrapperClass = [styles.container];\r\n    if (isLoaded) {\r\n        wrapperClass.push(styles.containerLoaded)\r\n    }\r\n\r\n    const imgClass = [styles.image];\r\n    if (isLoaded) {\r\n        imgClass.push(styles.imageLoaded)\r\n    }\r\n\r\n    return (\r\n        <div ref={ containerRef } className={ wrapperClass.join(' ') }>\r\n            { (isVisible || isLoaded) && (<img\r\n                ref={ imageRef }\r\n                className={ imgClass.join(' ') }\r\n                src={ src }\r\n                alt={ alt }\r\n            />) }\r\n        </div>\r\n    )\r\n};","import {MutableRefObject, useEffect, useState} from \"react\";\r\n\r\n// Hook\r\nexport function useOnScreen<T extends Element>(ref: MutableRefObject<T | null>, rootMargin: string = \"0px\"): boolean {\r\n    // State and setter for storing whether element is visible\r\n    const [isIntersecting, setIntersecting] = useState<boolean>(false);\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(\r\n            ([entry]) => {\r\n                // Update our state when observer callback fires\r\n                setIntersecting(entry.isIntersecting);\r\n            },\r\n            {\r\n                rootMargin,\r\n            }\r\n        );\r\n        if (ref.current) {\r\n            observer.observe(ref.current);\r\n        }\r\n        const currentRef = ref.current;\r\n        return () => {\r\n            observer.unobserve(currentRef as Element);\r\n        };\r\n        // eslint-disable-next-line\r\n    }, []); // Empty array ensures that effect is only run on mount and unmount\r\n    return isIntersecting;\r\n}","import React from 'react'\r\nimport {IGoods} from \"../interfaces\";\r\nimport {useShopContext} from \"../ShopContext\";\r\nimport {LoadableImage} from \"./LoadableImage/LoadableImage\";\r\n\r\nexport const GoodsItem: React.FC <IGoods> = (props) => {\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        displayDescription,\r\n        price,\r\n        displayAssets,\r\n    } = props;\r\n\r\n    const itemImage = displayAssets[0] ;\r\n    const itemPrice = price.finalPrice;\r\n\r\n    const { addOrderItem } = useShopContext();\r\n\r\n    return (\r\n            <div className=\"card\" id={ mainId }>\r\n                <div className=\"card-image\">\r\n                    <LoadableImage src={ itemImage.full_background } />\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    <span className=\"card-title\">{ displayName }</span>\r\n                    <p>{ displayDescription }</p>\r\n                </div>\r\n                <div className=\"card-action\">\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={ () => addOrderItem!({\r\n                            mainId,\r\n                            displayName,\r\n                            itemPrice\r\n                            } ) }\r\n                    >Купить</button>\r\n                    <span className=\"right\">{ itemPrice } $</span>\r\n                </div>\r\n            </div>\r\n    )\r\n};","import React from 'react'\r\nimport {GoodsItem} from \"./GoodsItem\";\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\n\r\nexport const GoodsList: React.FC = () => {\r\n\r\n    const { goods = [] } = useShopContext();\r\n\r\n    if (!goods.length) {\r\n        return (\r\n            <h3>Nothing find</h3>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"goods\">\r\n            {\r\n                goods.map(good => {\r\n                    return <GoodsItem\r\n                        key={good.mainId}\r\n                        {...good}\r\n                    />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n};","import React from 'react'\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\nexport const Cart:React.FC = () => {\r\n\r\n    const { order, handleBasketShow } = useShopContext();\r\n\r\n    return (\r\n        <div\r\n            className=\"cart blue darken-4 white-text\"\r\n            onClick={ handleBasketShow }\r\n        >\r\n            <i className=\"material-icons\">local_grocery_store</i>\r\n            <span className=\"cart-quantity\">{ order?.length }</span>\r\n        </div>\r\n    )\r\n};","import React from 'react'\r\nimport {IOrderItem} from \"../interfaces\";\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\nexport const BasketItem: React.FC<IOrderItem> = (props) => {\r\n\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        itemPrice,\r\n        orderQuantity,\r\n    } = props;\r\n\r\n    const {\r\n        deleteOrderItem,\r\n        addOrderQuantity,\r\n        deleteOrderQuantity\r\n    } = useShopContext();\r\n\r\n\r\n    return (\r\n        <li className=\"collection-item\" id={mainId}>\r\n            { displayName }, в количестве -\r\n            <span className=\"basket-quantity\">\r\n                <i className=\"material-icons add-quantity\" onClick={ () => addOrderQuantity! (mainId) }>add_circle_outline</i>\r\n                { orderQuantity }\r\n                <i className=\"material-icons delete-quantity\" onClick={ () => deleteOrderQuantity! (mainId) }>remove_circle_outline</i>\r\n            </span>\r\n           , на сумму = { itemPrice * orderQuantity! } $\r\n            <span className=\"secondary-content\">\r\n                <i className=\"material-icons basket-item-delete\" onClick={ () => deleteOrderItem! (mainId) }>delete_forever</i>\r\n            </span>\r\n        </li>\r\n    )\r\n\r\n};","import React from 'react'\r\nimport {BasketItem} from \"./BasketItem\";\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\nexport const BasketList: React.FC = () => {\r\n\r\n    const { order = [], handleBasketShow } = useShopContext();\r\n\r\n    const totalPrice = order.reduce((sum, item) => sum + item.itemPrice * item.orderQuantity!, 0);\r\n\r\n    return (\r\n        <ul className=\"collection basket-list\">\r\n            <li className=\"collection-item active purple darken-1\">Корзина</li>\r\n            { order.length ? (\r\n                    order.map(item =>\r\n                        <BasketItem\r\n                           key={item.mainId}\r\n                           { ...item }\r\n                        /> ) ) : (\r\n                        <li className=\"collection-item\">Корзина пуста!</li> ) }\r\n            <li className=\"collection-item active purple darken-1 basket-bottom\"><span>Общая стомость: { totalPrice } $</span><button className=\"btn btn-small purple darken-3 checkout-order\">Оформить</button>\r\n            </li>\r\n            <i className=\"material-icons basket-close\" onClick={ handleBasketShow }>close</i>\r\n        </ul>\r\n    )\r\n};","import React, {useEffect} from 'react'\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\nexport const Tooltip : React.FC = () => {\r\n\r\n    const { tooltipName, closeTooltip } = useShopContext();\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeTooltip!, 3000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [tooltipName]);\r\n\r\n    return ( <div id=\"toast-container\" className=\"tooltip-container\">\r\n                <div className=\"toast\">{tooltipName } добавлен в корзину</div>\r\n             </div>\r\n    )\r\n};","import React, {useEffect} from 'react'\r\nimport {Preloader} from './Preloader'\r\nimport {GoodsList} from \"./GoodsList\";\r\nimport {Cart} from \"./Cart\";\r\nimport {BasketList} from \"./BasketList\";\r\nimport {API_KEY, API_URL} from \"../config\";\r\nimport {Tooltip} from \"./Tooltip\";\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\nexport const Shop: React.FC = () => {\r\n    const { setGoods,\r\n            loading,\r\n            isBasketShow,\r\n            tooltipName\r\n    } = useShopContext();\r\n\r\n    useEffect(() => {\r\n        fetch(API_URL, {\r\n            headers : {\r\n                'Authorization': API_KEY as string\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setGoods!(data.shop);\r\n            })\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"container content\">\r\n            <Cart />\r\n            {\r\n                loading ? <Preloader /> : <GoodsList />\r\n            }\r\n            {\r\n                isBasketShow && <BasketList />\r\n            }\r\n            {\r\n                tooltipName && <Tooltip />\r\n            }\r\n        </main>\r\n    )\r\n};","export const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nexport const API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';","import React from 'react';\nimport {Header} from './components/Header';\nimport {Footer} from './components/Footer'\nimport {Shop} from './components/Shop'\nimport {ShopContext} from \"./ShopContext\";\n\n\nconst App: React.FC = () => {\n  return (\n    <>\n      <Header />\n      <ShopContext>\n          <Shop />\n      </ShopContext>\n      <Footer />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoadableImage_container__1r22s\",\"load\":\"LoadableImage_load__1MzDA\",\"containerLoaded\":\"LoadableImage_containerLoaded__2i4yF\",\"image\":\"LoadableImage_image__2SH0H\",\"imageLoaded\":\"LoadableImage_imageLoaded__38ZYK\"};"],"sourceRoot":""}