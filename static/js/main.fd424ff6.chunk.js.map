{"version":3,"sources":["components/Header.tsx","components/Footer.tsx","components/Preloader.tsx","components/LoadableImage/LoadableImage.tsx","static/shoppingCart.svg","hooks/use-on-screen.ts","components/GoodsItem.tsx","components/GoodsList.tsx","components/Cart.tsx","components/Tooltip.tsx","components/Shop.tsx","config.js","App.tsx","index.tsx","constants.tsx","shopReducer.ts","ShopContext.tsx","components/LoadableImage/LoadableImage.module.css"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","Preloader","_path","_path2","_path3","LoadableImage","props","src","alt","onLoad","useState","isLoaded","setIsLoaded","imageRef","useRef","containerRef","isVisible","ref","rootMargin","isIntersecting","setIntersecting","useEffect","observer","IntersectionObserver","entry","current","observe","currentRef","unobserve","useOnScreen","onload","wrapperClass","styles","container","push","containerLoaded","imgClass","image","imageLoaded","join","GoodsItem","mainId","displayName","displayDescription","price","itemImage","displayAssets","itemPrice","finalPrice","addOrderItem","useShopContext","full_background","onClick","GoodsList","goods","length","map","good","_excluded","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgShoppingCart","_ref","svgRef","title","titleId","height","viewBox","width","xmlns","fill","d","ForwardRef","Cart","order","handleBasketShow","Tooltip","tooltipName","closeTooltip","timerId","setTimeout","clearTimeout","BasketList","React","lazy","Shop","setGoods","loading","isBasketShow","fetch","headers","process","then","response","json","data","shop","mainClasses","fallback","App","ShopContext","ReactDOM","render","StrictMode","document","getElementById","CLOSE_TOOLTIP","BASKET_SHOW","ADD_ORDER_ITEM","DELETE_ORDER_ITEM","ADD_ORDER_QUANTITY","DELETE_ORDER_QUANTITY","SET_GOODS","reducer","state","type","payload","newOrder","itemIndex","findIndex","item","orderItem","newItem","orderQuantity","index","filter","EmittedContext","createContext","useContext","useReducer","dispatch","deleteOrderItem","addOrderQuantity","deleteOrderQuantity","Provider","value","children","module","exports"],"mappings":"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","file":"static/js/main.fd424ff6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header: React.FunctionComponent = () => {\r\n    return <nav className=\"purple darken-2\">\r\n                <div className=\"nav-wrapper\">\r\n                    <a href=\"https://andrey-golubenko.github.io/react-game-shop\" className=\"brand-logo\">React Shop</a>\r\n                    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                        <li><a\r\n                            href=\"https://github.com/Andrey-Golubenko/react-game-shop.git\"\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                        >Repo</a></li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n};","import React from 'react'\r\n\r\nexport const Footer: React.FunctionComponent = () => {\r\n    return (\r\n        <footer className=\"page-footer purple darken-2\">\r\n            <div className=\"footer-copyright purple darken-2\">\r\n                <div className=\"container\">\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a\r\n                        className=\"grey-text text-lighten-4 right\"\r\n                        href=\"https://github.com/Andrey-Golubenko/react-game-shop.git\"\r\n                        target=\"_blank\"\r\n                        rel=\"noreferrer\"\r\n                    >Repo</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n};","import React from 'react'\r\n\r\nexport const Preloader: React.FC = () => {\r\n    return (\r\n        <div className=\"progress purple accent-1\">\r\n            <div className=\"indeterminate purple darken-3\" />\r\n        </div>\r\n    )\r\n};","import React, {useEffect, useRef, useState} from 'react'\r\nimport styles from './LoadableImage.module.css'\r\nimport {ILoadableImageProps} from \"../../interfaces\";\r\nimport {useOnScreen} from \"../../hooks/use-on-screen\";\r\n\r\nexport const LoadableImage: React.FC<ILoadableImageProps> = (props) => {\r\n\r\n    const { src, alt = '', onLoad = () => {} } = props;\r\n    const [isLoaded, setIsLoaded] = useState<boolean>(false);\r\n    const imageRef = useRef<HTMLImageElement | null>(null);\r\n    const containerRef = useRef<HTMLDivElement | null>(null);\r\n    const isVisible = useOnScreen(containerRef);\r\n\r\n    useEffect(() => {\r\n        if (!isVisible || isLoaded) {\r\n            return;\r\n        }\r\n        if (imageRef.current) {\r\n            imageRef.current.onload = () => {\r\n                setIsLoaded(true);\r\n                onLoad();\r\n            };\r\n        }\r\n    }, [isVisible, onLoad, isLoaded]);\r\n\r\n    const wrapperClass = [styles.container];\r\n    if (isLoaded) {\r\n        wrapperClass.push(styles.containerLoaded)\r\n    }\r\n\r\n    const imgClass = [styles.image];\r\n    if (isLoaded) {\r\n        imgClass.push(styles.imageLoaded)\r\n    }\r\n\r\n    return (\r\n        <div ref={ containerRef } className={ wrapperClass.join(' ') }>\r\n            { (isVisible || isLoaded) && (<img\r\n                ref={ imageRef }\r\n                className={ imgClass.join(' ') }\r\n                src={ src }\r\n                alt={ alt }\r\n            />) }\r\n        </div>\r\n    )\r\n};","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgShoppingCart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"414pt\",\n    viewBox: \"0 -11 414.00053 414\",\n    width: \"414pt\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"#fff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m202.480469 352.128906c0-21.796875-17.671875-39.46875-39.46875-39.46875-21.800781 0-39.472657 17.667969-39.472657 39.46875 0 21.800782 17.671876 39.472656 39.472657 39.472656 21.785156-.023437 39.445312-17.683593 39.46875-39.472656zm0 0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m348.445312 348.242188c2.148438 21.691406-13.695312 41.019531-35.390624 43.167968-21.691407 2.148438-41.015626-13.699218-43.164063-35.390625-2.148437-21.691406 13.695313-41.019531 35.386719-43.167969 21.691406-2.148437 41.019531 13.699219 43.167968 35.390626zm0 0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m412.699219 63.554688c-1.3125-1.84375-3.433594-2.941407-5.699219-2.941407h-311.386719l-3.914062-24.742187c-3.191407-20.703125-21.050781-35.9531252-42-35.871094h-42.699219c-3.867188 0-7 3.132812-7 7s3.132812 7 7 7h42.699219c14.050781-.054688 26.03125 10.175781 28.171875 24.0625l33.800781 213.515625c3.191406 20.703125 21.050781 35.957031 42 35.871094h208.929687c3.863282 0 7-3.132813 7-7 0-3.863281-3.136718-7-7-7h-208.929687c-14.050781.054687-26.03125-10.175781-28.171875-24.0625l-5.746094-36.300781h213.980469c18.117187-.007813 34.242187-11.484376 40.179687-28.597657l39.699219-114.578125c.742188-2.140625.402344-4.511718-.914062-6.355468zm0 0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShoppingCart);\nexport default __webpack_public_path__ + \"static/media/shoppingCart.bdaf24fb.svg\";\nexport { ForwardRef as ReactComponent };","import {MutableRefObject, useEffect, useState} from \"react\";\r\n\r\n// Hook\r\nexport function useOnScreen<T extends Element>(ref: MutableRefObject<T | null>, rootMargin: string = \"0px\"): boolean {\r\n    // State and setter for storing whether element is visible\r\n    const [isIntersecting, setIntersecting] = useState<boolean>(false);\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(\r\n            ([entry]) => {\r\n                // Update our state when observer callback fires\r\n                setIntersecting(entry.isIntersecting);\r\n            },\r\n            {\r\n                rootMargin,\r\n            }\r\n        );\r\n        if (ref.current) {\r\n            observer.observe(ref.current);\r\n        }\r\n        const currentRef = ref.current;\r\n        return () => {\r\n            observer.unobserve(currentRef as Element);\r\n        };\r\n        // eslint-disable-next-line\r\n    }, []); // Empty array ensures that effect is only run on mount and unmount\r\n    return isIntersecting;\r\n}","import React from 'react'\r\nimport {IGoods} from \"../interfaces\";\r\nimport {useShopContext} from \"../ShopContext\";\r\nimport {LoadableImage} from \"./LoadableImage/LoadableImage\";\r\n\r\nexport const GoodsItem: React.FC <IGoods> = (props) => {\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        displayDescription,\r\n        price,\r\n        displayAssets,\r\n    } = props;\r\n\r\n    const itemImage = displayAssets[0] ;\r\n    const itemPrice = price.finalPrice;\r\n\r\n    const { addOrderItem } = useShopContext();\r\n\r\n    return (\r\n            <div className=\"card\" id={ mainId }>\r\n                <div className=\"card-image\">\r\n                    <LoadableImage src={ itemImage.full_background } />\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    <span className=\"card-title\">{ displayName }</span>\r\n                    <p>{ displayDescription }</p>\r\n                </div>\r\n                <div className=\"card-action\">\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={ () => addOrderItem!({\r\n                            mainId,\r\n                            displayName,\r\n                            itemPrice\r\n                            } ) }\r\n                    >Купить</button>\r\n                    <span className=\"right\">{ itemPrice } $</span>\r\n                </div>\r\n            </div>\r\n    )\r\n};","import React from 'react'\r\nimport {GoodsItem} from \"./GoodsItem\";\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\n\r\nexport const GoodsList: React.FC = () => {\r\n\r\n    const { goods = [] } = useShopContext();\r\n\r\n    if (!goods.length) {\r\n        return (\r\n            <h3>Nothing find</h3>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"goods\">\r\n            {\r\n                goods.map(good => {\r\n                    return <GoodsItem\r\n                        key={good.mainId}\r\n                        {...good}\r\n                    />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n};","import React from 'react'\r\nimport {useShopContext} from \"../ShopContext\";\r\nimport {ReactComponent as ShoppingCart} from '../static/shoppingCart.svg'\r\n\r\nexport const Cart:React.FC = () => {\r\n\r\n    const { order, handleBasketShow } = useShopContext();\r\n\r\n    return (\r\n        <div\r\n            className=\"cart blue darken-4 white-text\"\r\n            onClick={ handleBasketShow }\r\n        >\r\n            <ShoppingCart className=\"shopping-cart-icon\" />\r\n            <span className=\"cart-quantity\">{ order?.length }</span>\r\n        </div>\r\n    )\r\n};","import React, {useEffect} from 'react'\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\nexport const Tooltip : React.FC = () => {\r\n\r\n    const { tooltipName, closeTooltip } = useShopContext();\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeTooltip!, 3000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [tooltipName]);\r\n\r\n    return ( <div id=\"toast-container\" className=\"tooltip-container\">\r\n                <div className=\"toast\">{tooltipName } добавлен в корзину</div>\r\n             </div>\r\n    )\r\n};","import React, {useEffect, Suspense} from 'react'\r\nimport {Preloader} from './Preloader'\r\nimport {GoodsList} from \"./GoodsList\";\r\nimport {Cart} from \"./Cart\";\r\nimport {API_KEY, API_URL} from \"../config\";\r\nimport {Tooltip} from \"./Tooltip\";\r\nimport {useShopContext} from \"../ShopContext\";\r\n\r\nconst BasketList = React.lazy(() => import(\"./BasketList\"))  ;\r\n\r\nexport const Shop: React.FC = () => {\r\n    const { setGoods,\r\n            loading,\r\n            isBasketShow,\r\n            tooltipName\r\n    } = useShopContext();\r\n\r\n    useEffect(() => {\r\n        fetch(API_URL, {\r\n            headers : {\r\n                'Authorization': API_KEY as string\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setGoods!(data.shop);\r\n            })\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const mainClasses = [\"container content\"];\r\n    if (loading){\r\n        mainClasses.push(\"full-height\")\r\n    }\r\n\r\n    return (\r\n        <main className={mainClasses.join(' ')} >\r\n            <Cart />\r\n            {\r\n                loading ? <Preloader /> : <GoodsList />\r\n            }\r\n            {\r\n                isBasketShow &&\r\n                    <Suspense fallback={<h2>Loading...</h2>}>\r\n                        <BasketList />\r\n                    </Suspense>\r\n            }\r\n            {\r\n                tooltipName && <Tooltip />\r\n            }\r\n        </main>\r\n    )\r\n};","export const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nexport const API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';","import React from 'react';\nimport {Header} from './components/Header';\nimport {Footer} from './components/Footer'\nimport {Shop} from './components/Shop'\nimport {ShopContext} from './ShopContext';\n\n\nconst App: React.FC = () => {\n  return (\n    <>\n      <Header />\n      <ShopContext>\n          <Shop />\n      </ShopContext>\n      <Footer />\n    </>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","export const CLOSE_TOOLTIP = 'CLOSE_TOOLTIP';\r\nexport const BASKET_SHOW   = 'BASKET_SHOW';\r\nexport const ADD_ORDER_ITEM = 'ADD_ORDER_ITEM';\r\nexport const DELETE_ORDER_ITEM = 'DELETE_ORDER_ITEM';\r\nexport const ADD_ORDER_QUANTITY = 'ADD_ORDER_QUANTITY';\r\nexport const DELETE_ORDER_QUANTITY = 'DELETE_ORDER_QUANTITY';\r\nexport const SET_GOODS         = 'SET_GOODS';\r\nexport const SET_LOADING       = 'SET_LOADING';\r\n\r\n// ===========\r\n","import React from 'react'\r\nimport {IShopAction, IShopState} from \"./interfaces\";\r\nimport {\r\n    CLOSE_TOOLTIP,\r\n    BASKET_SHOW,\r\n    DELETE_ORDER_ITEM,\r\n    ADD_ORDER_ITEM,\r\n    ADD_ORDER_QUANTITY,\r\n    DELETE_ORDER_QUANTITY,\r\n    SET_GOODS\r\n} from \"./constants\";\r\n\r\nexport const reducer: React.Reducer<IShopState, IShopAction> = (state, { type, payload }) => {\r\n    switch (type) {\r\n        case ADD_ORDER_ITEM: {\r\n            let newOrder = null;\r\n            const itemIndex = state.order!.findIndex(item => item.mainId === payload!.orderItem!.mainId!);\r\n            if (itemIndex < 0) {\r\n                const newItem = {\r\n                    ...payload!.orderItem!,\r\n                    orderQuantity: 1\r\n                };\r\n                newOrder = [...state.order!, newItem]\r\n            } else {\r\n                newOrder = state.order!.map((item, index) => {\r\n                    if (index === itemIndex) {\r\n                        return {\r\n                            ...item,\r\n                            orderQuantity: item.orderQuantity! + 1\r\n                        }\r\n                    } else {\r\n                        return item\r\n                    }\r\n                });\r\n            }\r\n            return {\r\n                ...state,\r\n                order: newOrder,\r\n                tooltipName: payload?.orderItem?.displayName!\r\n            }\r\n        }\r\n        case DELETE_ORDER_ITEM: {\r\n            return { ...state, order: state.order!.filter(item => item.mainId !== payload?.mainId) };}\r\n        case ADD_ORDER_QUANTITY: {\r\n            return {\r\n                ...state,\r\n                order: state.order!.map(item => {\r\n                    if (item.mainId === payload!.mainId!) {\r\n                        return {\r\n                            ...item,\r\n                            orderQuantity: item.orderQuantity! + 1\r\n                        }\r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n        }\r\n        case DELETE_ORDER_QUANTITY: {\r\n            return {\r\n                ...state,\r\n                order: state.order!.map(item => {\r\n                    if (item.mainId === payload!.mainId! && item.orderQuantity! > 0) {\r\n                        return {\r\n                            ...item,\r\n                            orderQuantity: item.orderQuantity! - 1\r\n                        }\r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n        }\r\n        case BASKET_SHOW: {\r\n            return { ...state, isBasketShow: !state.isBasketShow };\r\n        }\r\n        case CLOSE_TOOLTIP: {\r\n            return { ...state, tooltipName: '' };\r\n        }\r\n        case SET_GOODS: {\r\n            return {\r\n                ...state,\r\n                goods: payload!.goods! || [],\r\n                loading: false\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n};","import React, {createContext, useContext, useReducer} from 'react'\r\nimport {IGoods, IOrderItem, IShopContext} from \"./interfaces\";\r\nimport {reducer} from \"./shopReducer\";\r\nimport {\r\n    ADD_ORDER_ITEM,\r\n    ADD_ORDER_QUANTITY,\r\n    BASKET_SHOW,\r\n    CLOSE_TOOLTIP,\r\n    DELETE_ORDER_ITEM,\r\n    DELETE_ORDER_QUANTITY,\r\n    SET_GOODS\r\n} from \"./constants\";\r\n\r\nconst EmittedContext  = createContext ({});\r\n\r\nexport const useShopContext = (): IShopContext => useContext(EmittedContext);\r\n\r\nexport const ShopContext: React.FC = (props) => {\r\n\r\n    const [state, dispatch]  = useReducer(reducer, {\r\n        goods: [],\r\n        loading: true,\r\n        order: [],\r\n        isBasketShow: false,\r\n        tooltipName: '',\r\n    });\r\n\r\n     state.setGoods = (goods: IGoods[]) => dispatch({ type: SET_GOODS, payload: { goods } });\r\n\r\n     state.addOrderItem = (orderItem: IOrderItem) => {\r\n        dispatch({ type: ADD_ORDER_ITEM, payload: {orderItem}})\r\n    };\r\n\r\n     state.deleteOrderItem = (mainId: string) => {\r\n        dispatch({ type: DELETE_ORDER_ITEM, payload:{mainId} });\r\n    };\r\n\r\n     state.addOrderQuantity = (mainId: string) => {\r\n        dispatch({ type: ADD_ORDER_QUANTITY, payload: {mainId} });\r\n    };\r\n\r\n     state.deleteOrderQuantity = (mainId: string) => {\r\n        dispatch({ type: DELETE_ORDER_QUANTITY, payload: {mainId} });\r\n    };\r\n\r\n     state.handleBasketShow = () => {\r\n        dispatch({ type: BASKET_SHOW });\r\n    };\r\n\r\n     state.closeTooltip = () => {\r\n        dispatch({ type: CLOSE_TOOLTIP });\r\n    };\r\n\r\n    return <EmittedContext.Provider value={ state }>\r\n              { props.children }\r\n           </EmittedContext.Provider>\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoadableImage_container__1r22s\",\"load\":\"LoadableImage_load__1MzDA\",\"containerLoaded\":\"LoadableImage_containerLoaded__2i4yF\",\"image\":\"LoadableImage_image__2SH0H\",\"imageLoaded\":\"LoadableImage_imageLoaded__38ZYK\"};"],"sourceRoot":""}